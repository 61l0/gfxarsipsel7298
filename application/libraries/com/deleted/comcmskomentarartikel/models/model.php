<?phpclass Model extends CI_Model {    function __construct (){        parent::__construct();	}	function simpan() {		$oper = $this->input->post('oper');		$id_komentar = @$this->input->post('id_komentar');		switch ($oper):		// ====================== pengeditan data ==============================		case 'edit':			$cari = $this->db->where('id_komentar',$id_komentar)->get('berita_komentar')->row()->status;			if($cari=='publish'){				$status='pending';			}elseif($cari=='pending' || $cari==''){				$status='publish';			}			$this->db->set('status',@$status);			$this->db->where('id_komentar',@$id_komentar);			if($this->db->update('berita_komentar')):				$this->responce = array('result'=>'succes','message'=>'Data berhasil diubah','oper'=>'edit');				$data = $this->db->get('berita_komentar')->row();				$this->responce['rows'] = @$data?$data:array();			else:				$this->responce = array('result'=>'failed','message'=>'Data tidak berhasil diubah','oper'=>'edit');			endif;			break;		// ====================== penghapusan data ==============================		case 'del':		    // $this->query_action('delete',$params);			$this->db->where('id_komentar',@$id_komentar);			if($this->db->delete('berita_komentar')):				$this->responce = array('result'=>'succes','message'=>'Data berhasil dihapus','oper'=>'del');				$this->responce['rows'] = array();			else:				$this->responce = array('result'=>'failed','message'=>'Data tidak berhasil dihapus','oper'=>'del');			endif;			break;		// ====================== tidak ada oper ==============================		default:			$this->responce = array('result'=>'failed','message'=>'Cannot identify oper type','oper'=>$oper);		endswitch;		return $this->responce;	}}?>