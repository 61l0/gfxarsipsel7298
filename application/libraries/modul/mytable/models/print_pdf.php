<?phpclass print_pdf extends CI_Model {    function __construct (){        parent::__construct();	}		private function preptable($colModel=false,$params=false) {	    $data=$params->data;	    $this->mypdf->SetY(25);	    // ====================== head ================================	            $this->mypdf->SetFillColor(0, 0, 255);        $this->mypdf->SetTextColor(0,0,0);        $this->mypdf->SetFont('', 'B');        $width = $this->mypdf->getPageWidth();        foreach($colModel as $key=>$head) {            $this->mypdf->Cell(50, 7, $head, 1, 0, 'C', 1);            $w[] = 50;        }        // =============================================================        $this->mypdf->Ln();        $this->mypdf->SetFillColor(224, 235, 255);        $this->mypdf->SetTextColor(0);        $this->mypdf->SetFont('', '');        $fill = 0;        foreach($data as $key=>$row) {            foreach($colModel as $keyModel=>$rowModel){                $this->mypdf->Cell(50, 7, $row->$keyModel, 'LRTB', 0, 'L', $fill);            }            $this->mypdf->Ln();            $fill=!$fill;        }        $this->mypdf->Cell(array_sum($w), 0, '', 'T');    }	function index($params=false){	    $data=$params->data;	    $colModel=$params->colModel;	    $pdf=$params->pdf;		$this->load->library('mypdf');		// set document information		$this->mypdf->SetCreator(PDF_CREATOR);		$this->mypdf->SetAuthor('girista');		$this->mypdf->SetTitle('PDF');		$this->mypdf->SetSubject('PDF');		$this->mypdf->SetKeywords('girista');				$this->mypdf->setHeaderData('', '', $pdf['header']['caption']);		$this->mypdf->setHeaderFont(Array(PDF_FONT_NAME_MAIN, '', PDF_FONT_SIZE_MAIN));		$this->mypdf->setFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_DATA));		$this->mypdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);		$this->mypdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);		$this->mypdf->setHeaderMargin(PDF_MARGIN_HEADER);		$this->mypdf->setFooterMargin(PDF_MARGIN_FOOTER);		$this->mypdf->SetAutoPageBreak(TRUE, 10);		$this->mypdf->setImageScale(PDF_IMAGE_SCALE_RATIO);		$this->mypdf->AddPage();        $arr = array();        foreach($colModel as $key=>$row):            if(@$pdf['show_col']){                if(@$pdf['show_col'][$key]==$key){                    $arr[$row['index']] = $row['label'];                }            }else{                if(@$row['editable'] == true || @$row['viewrecords'] == true){                    $arr[$row['index']] = $row['label'];                }            }        endforeach;        $header = $arr;        $this->preptable($header, $params);        $nama = 'PDF_'.date('dmYHis');		$this->mypdf->Output($nama.'.pdf', 'I');	}}?>